<div class="modal-content">
    <div class="modal-header">
        <h4 class="modal-title pull-left">Cambia password</h4>
        <button type="button" class="close pull-right" (click)="hide()">
            <span aria-hidden="true">&times;</span>
        </button>
    </div>
    <div class="modal-body">
        <div class="row" *ngIf="form" [formGroup]="form">
            <div class="form-group col-12">
                <h5>Password corrente</h5>
                <div class="relative">
                    <input formControlName="currentPassword"
                           [type]="hidden ? 'password' : 'text'"
                           class="form-control input-transparent"
                           placeholder="Inserisci la password corrente">
                    <i class="glyphicon glyphicon glyphicon-eye-open mr-xs eye-hide" *ngIf="!hidden"
                       (click)="hidden = !hidden"></i>
                    <i class="glyphicon glyphicon glyphicon-eye-close mr-xs eye-hide" *ngIf="hidden"
                       (click)="hidden = !hidden"></i>
                </div>
                <span *ngIf="form?.get('currentPassword')?.touched && form?.get('currentPassword')?.errors?.required"
                      class="text text-danger mt-1">Campo richiesto</span>
                <span *ngIf="form?.get('currentPassword')?.touched && form?.get('currentPassword')?.errors?.minlength"
                      class="text text-danger mt-1">Minimo 6 caratteri</span>
            </div>
            <div class="form-group col-12">
                <h5>Nuova password</h5>
                <div class="relative">
                    <input formControlName="newPassword"
                           [type]="hidden1 ? 'password' : 'text'"
                           class="form-control input-transparent"
                           placeholder="Inserisci la nuova password">
                    <i class="glyphicon glyphicon glyphicon-eye-open mr-xs eye-hide" *ngIf="!hidden1"
                       (click)="hidden1 = !hidden1"></i>
                    <i class="glyphicon glyphicon glyphicon-eye-close mr-xs eye-hide" *ngIf="hidden1"
                       (click)="hidden1 = !hidden1"></i>
                </div>
                <span *ngIf="form?.get('newPassword')?.touched && form?.get('newPassword')?.errors?.required"
                      class="text text-danger mt-1">Campo richiesto</span>
                <span *ngIf="form?.get('newPassword')?.touched && form?.get('newPassword')?.errors?.minlength"
                      class="text text-danger mt-1">Minimo 6 caratteri</span>
            </div>
            <div class="form-group col-12">
                <h5>Conferma password</h5>
                <div class="relative">
                    <input formControlName="confirmation"
                           [type]="hidden2 ? 'password' : 'text'"
                           class="form-control input-transparent"
                           placeholder="Conferma la nuova password">
                    <i class="glyphicon glyphicon glyphicon-eye-open mr-xs eye-hide" *ngIf="!hidden2"
                       (click)="hidden2 = !hidden2"></i>
                    <i class="glyphicon glyphicon glyphicon-eye-close mr-xs eye-hide" *ngIf="hidden2"
                       (click)="hidden2 = !hidden2"></i>
                </div>
                <span *ngIf="form?.get('confirmation')?.touched && form?.get('confirmation')?.errors?.required"
                      class="text text-danger mt-1">Campo richiesto</span>
                <span *ngIf="form?.get('confirmation')?.touched && form?.get('confirmation')?.errors?.minlength"
                      class="text text-danger mt-1">Minimo 6 caratteri</span>
                <span *ngIf="form?.hasError('notSame')" class="text text-danger">
                        Le password non sono uguali
                    </span>
            </div>
        </div>
    </div>

    <div class="modal-footer">
        <button class="btn mb-xs btn-outline-danger"
                role="button"
                (click)="hide()">
            Chiudi
        </button>
        <button class="btn mb-xs btn-outline-primary"
                role="button"
                [disabled]="form.invalid"
                (click)="save()">
            Procedi
        </button>
    </div>
</div>
